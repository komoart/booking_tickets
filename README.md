# Дипломный проект "Бронирование билетов"

## Проектное задание

Здорово будет связать фильмы с походами в кино. Не всем нравится сидеть дома и
смотреть фильмы в одиночку. Иногда хочется их посмотреть с компанией единомышленников.

Для реализации такой возможности от вас требуется реализовать для определенной 
группы фильмов кнопку покупки билета в кино. Система должна позволять пользователям
создавать свои расписания, фильмы и место сбора, а также возможное количество людей
давать возможность любому пользователю выбирать пользователя-хоста 
(тот, который предлагает фильм и место) и затем дату + время фильма. 
Для данной задачи реализовывать оплату не нужно, достаточно бронировать 
билеты и не давать забронировать больше билетов, чем есть мест у конкретного человека. 


Так как эти посиделки камерные, то заданием со звездочкой будет придумать систему 
оценки пользователя-хоста и пользователя-гостя (тот, который пришел на совместный просмотр).

## Используемые технологии

Nginx - проксирование внешних запросов
Fastapi - асинхронный фреймворк для создания API
PostgreSQL - база данных для хранения данных о событиях и бронировании
Redis - база данных для хранения кэша
Docker - развертывание проекта


## Основные сервисы проекта

- Auth API - регистрация пользователя, информация о пользователе
- UGC API - информация о друзьях пользователя
- Movie API - информация о фильмах
- Booking API - бронирование билетов
- Url generation - генерация коротких ссылок
- Notification - отправка уведомлений
- Graylog - логирование событий микросервисов


## Общая схема проекта

![](docs/main.png)

## AUTH API

Сервис-заглушка для имитации регистрации пользователей, получения данных о 
пользователе, получения группы пользователя.

Регистрация пользователя
```
POST

/auth/v1/register/
```

Получение данных пользователя
```
POST

/auth/v1/user_info/{uuid}
```

Получение группы пользователя
```
POST

/auth/v1/user_group/{group}
```


## UGC API

Сервис-заглушка для имитации обзоров на фильмы, подписок на фильмы, оценки 
рейтинга фильма.

Информация об обзоре
```
POST

/ugc/v1/review_info/{movie_id}/{user_id}/{review_id}
```

Информация о подписке
```
POST

/ugc/v1/subscribers/{movie_id}
```

Информация о рейтинге
```
POST

/ugc/v1/likes_count/{review_id}
```


## MOVIES API

Сервис-заглушка для получения данных о фильме.

Информация о фильме
```
POST

/movie_api/v1/movie/{uuid}
```

## Graylog

ссылка на схему
